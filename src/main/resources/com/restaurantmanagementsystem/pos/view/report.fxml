<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<BorderPane xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.restaurantmanagementsystem.pos.controller.ReportController" prefHeight="600.0" prefWidth="910.0">
    <center>
        <SplitPane dividerPositions="0.2" orientation="VERTICAL">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <HBox spacing="10" alignment="CENTER">
                <!-- Container for Today's Income -->
                <VBox style="-fx-background-color: #4CAF50; -fx-padding: 20; -fx-alignment: center; -fx-border-radius: 5; -fx-background-radius: 5;" alignment="CENTER" prefWidth="220">
                    <ImageView fitWidth="30" fitHeight="30">
                        <Image url="@/logo.png"/>
                    </ImageView>
                    <Label fx:id="todaysIncomeLabel" text="29.85" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold; -fx-padding: 5;" />
                    <Label text="Today's Income" style="-fx-text-fill: white; -fx-font-size: 14;" />
                </VBox>

                <!-- Container for Total Income -->
                <VBox style="-fx-background-color: #2196F3; -fx-padding: 20; -fx-alignment: center; -fx-border-radius: 5; -fx-background-radius: 5;" alignment="CENTER" prefWidth="220">
                    <ImageView fitWidth="30" fitHeight="30">
                        <Image url="@/logo.png"/>
                    </ImageView>
                    <Label fx:id="totalIncomeLabel" text="253.55" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold; -fx-padding: 5;" />
                    <Label text="Total Income" style="-fx-text-fill: white; -fx-font-size: 14;" />
                </VBox>

                <!-- Container for Total Items Sold -->
                <VBox style="-fx-background-color: #FFC107; -fx-padding: 20; -fx-alignment: center; -fx-border-radius: 5; -fx-background-radius: 5;" alignment="CENTER" prefWidth="220">
                    <ImageView fitWidth="30" fitHeight="30">
                        <Image url="@/logo.png"/>
                    </ImageView>
                    <Label fx:id="totalItemsSoldLabel" text="68" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold; -fx-padding: 5;" />
                    <Label text="Total Items Sold" style="-fx-text-fill: white; -fx-font-size: 14;" />
                </VBox>

                <!-- Container for Best Seller -->
                <VBox style="-fx-background-color: #F44336; -fx-padding: 20; -fx-alignment: center; -fx-border-radius: 5; -fx-background-radius: 5;" alignment="CENTER" prefWidth="220">
                    <ImageView fitWidth="30" fitHeight="30">
                        <Image url="@/logo.png"/>
                    </ImageView>
                    <Label fx:id="bestSellerLabel" text="Product Name" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold; -fx-padding: 5;" />
                    <Label text="Best Seller" style="-fx-text-fill: white; -fx-font-size: 14;" />
                </VBox>
            </HBox>

            <!-- Report Selection and Display Area -->
            <VBox spacing="10">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>

                <!-- Report Selection -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Report Type:" style="-fx-font-weight: bold;" />
                    <ComboBox fx:id="reportTypeComboBox" prefWidth="200">
                        <items>
                            <FXCollections fx:factory="observableArrayList">
                                <!-- Report type will be added in controller -->
                            </FXCollections>
                        </items>
                    </ComboBox>
                </HBox>

                <!-- Report Display Area -->
                <HBox>
                    <VBox spacing="10" HBox.hgrow="ALWAYS">
                        <TableView fx:id="reportTableView" VBox.vgrow="ALWAYS">
                            <columns>
                                <TableColumn fx:id="dateColumn" text="Date" />
                                <TableColumn fx:id="salesColumn" text="Total Sales" />
                            </columns>
                        </TableView>
                    </VBox>
                    <VBox spacing="10" HBox.hgrow="ALWAYS">
                        <BarChart fx:id="salesBarChart" VBox.vgrow="ALWAYS">
                            <xAxis>
                                <CategoryAxis fx:id="xAxis" label="Date"/>
                            </xAxis>
                            <yAxis>
                                <NumberAxis fx:id="yAxis" label="Sales ($)"/>
                            </yAxis>
                        </BarChart>
                    </VBox>
                </HBox>
            </VBox>
        </SplitPane>
    </center>
</BorderPane>
